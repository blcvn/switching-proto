syntax = "proto3";

// Package định nghĩa các message cho GPI (Global Payments Innovation) trong access point
package accesspoint.v1;

import "access-point/common.proto";

option go_package = "github.com/blcvn/switching-proto/go/accesspoint;accesspoint";
option java_package = "com.blcvn.switching.accesspoint";

// Message xác nhận thanh toán
message ConfirmMessage {
  string uetr = 1;                // Unique End-to-End Transaction Reference
  string confirmation_type = 2;   // Loại xác nhận
  string timestamp = 3;           // Thời gian xác nhận
}

// Request tạo thanh toán mới
message CreatePaymentRequest {
  Metadata metadata = 1;        // Thông tin metadata của request
  Signature signature = 2;      // Chữ ký số của request
  Payment data = 3;            // Dữ liệu thanh toán
}

// Response tạo thanh toán
message CreatePaymentResponse {
  Metadata metadata = 1;        // Thông tin metadata của response
  Signature signature = 2;      // Chữ ký số của response
  Result result = 3;           // Kết quả xử lý
  Payment data = 4;            // Dữ liệu thanh toán đã tạo
}

// Request lấy thông tin thanh toán
message GetPaymentRequest {
  Metadata metadata = 1;        // Thông tin metadata của request
  Signature signature = 2;      // Chữ ký số của request
  string id = 3;               // ID của thanh toán
}

// Response lấy thông tin thanh toán
message GetPaymentResponse {
  Metadata metadata = 1;        // Thông tin metadata của response
  Signature signature = 2;      // Chữ ký số của response
  Result result = 3;           // Kết quả xử lý
  Payment data = 4;            // Dữ liệu thanh toán
}

// Request lấy trạng thái thanh toán
message GetPaymentStatusRequest {
  Metadata metadata = 1;        // Thông tin metadata của request
  Signature signature = 2;      // Chữ ký số của request
  string uetr = 3;             // Unique End-to-End Transaction Reference
}

// Trạng thái thanh toán
message PaymentStatus {
  string uetr = 1;             // Unique End-to-End Transaction Reference
  string status = 2;           // Trạng thái thanh toán
  double amount = 3;           // Số tiền thanh toán
  string currency = 4;         // Mã tiền tệ
}

// Request xác nhận thanh toán
message ConfirmPaymentRequest {
  Metadata metadata = 1;        // Thông tin metadata của request
  Signature signature = 2;      // Chữ ký số của request
  ConfirmMessage data = 3;     // Dữ liệu xác nhận
}

// Response xác nhận thanh toán
message ConfirmPaymentResponse {
  Metadata metadata = 1;        // Thông tin metadata của response
  Signature signature = 2;      // Chữ ký số của response
  Result result = 3;           // Kết quả xử lý
  Payment data = 4;            // Dữ liệu thanh toán đã xác nhận
}
